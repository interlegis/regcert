{% extends 'base.html' %}
{% load i18n %}

{% block content %}

<nav class="navbar navbar-default">
    <ul class="nav navbar-nav">
        <li><a href="{% url 'student_create' %}">{% trans "Add new student" %}</a></li>
    </ul>
</nav>
{% if not students %}
<div class="alert alert-warning" role="alert">
    <p><b>No students found!</b> Click <a href="{% url 'student_create' %}">here</a> to add one. Remeber, to insert a new student, a course should be added first.</p>
</div>
{% else %}
<table class="table table-hover">
    <thead>
        <tr>
            <th>#</th>
            <th>{% trans 'Name' %}</th>
            <th>{% trans 'Birthday' %}</th>
            <th>{% trans 'Nationality' %}</th>
            <th>{% trans 'RG' %}</th>
            <th>{% trans 'Options' %}</th>
        </tr>
    </thead>
    <tbody>
        {% for student in students %}
        <tr>
            <td>{{ student.id }}</td>
            <td>{{ student.name }}</td>
            <td>{{ student.birthday }}</td>
            <td>{{ student.nationality }}</td>
            <td>{{ student.rg }}</td>
            <td>
                <div class="btn-group" role="group">
                    <a class="btn btn-default btn-sm" href="{% url 'student_update' student.id %}">
                      <span class="glyphicon glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                    <a class="btn btn-default btn-sm" href="{% url 'student_delete' student.id %}">
                      <span class="glyphicon glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </a>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
    {% if is_paginated %}
    <nav>
      <ul class="pagination">
        {% if page_obj.has_previous %}
        <li>
          <a href="{% url 'students' %}?page={{ page_obj.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {% endif %}
        {% for p in page_obj.paginator.page_range %}
        {% if p == page_obj.number %}
            <li class="active">
                <a href="{% url 'students' %}?page={{ p }}">{{ p }} <span class="sr-only">(current)</span></a>
            </li>
        {% else %}
            <li><a href="{% url 'students' %}?page={{ p }}">{{ p }}</a></li>
        {% endif %}

        {% endfor %}

        {% if page_obj.has_next %}
        <li>
          <a href="{% url 'students' %}?page={{ page_obj.next_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </nav>

    {% endif %}
{% endif %}
{% endblock %}

