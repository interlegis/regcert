{% extends 'base.html' %}
{% load i18n %}
{% load staticfiles %}
{% load widget_tweaks %}

{% block content %}
<div class="page-header">
    <h2>{% trans 'Create new certificate' %}</h2>
</div>
<form method="post" class="form-horizontal">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="alert alert-warning" role="alert">
        {{ form.non_field_errors }}
    </div>
    {% endif %}


    {% for field in form %}
        {% if field.errors %}
            <div class="alert alert-danger" role="alert">
                {{ field.errors }}
            </div>
            <div class="form-group has-error">
            {% else %}
            <div class="form-group">
            {% endif %}
                <label for="{{ field.id_for_label }}" class="col-sm-2 control-label">{{ field.label }}</label>
                {% if field.name == 'book_date' %}
                <div class="col-sm-10 date">
                {% else %}
                <div class="col-sm-10">
                {% endif %}
                    {{ field | add_class:"form-control" }}
                </div>
            </div>
    {% endfor %}

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <div class="btn-group" role="group">
                <button type="submit" class="btn btn-primary">{% trans 'Add new certificate' %}</button>
                                <a href="javascript:history.back()" class="btn btn-default">{% trans 'Cancel' %}</a>
            </div>
        </div>
    </div>
</form>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'bootstrap-3-datepicker/css/datepicker3.css' %}">
{% endblock %}

{% block js %}

<script src="{% static 'bootstrap-3-datepicker/js/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'bootstrap-3-datepicker/js/locales/bootstrap-datepicker.pt-BR.js' %}" charset="UTF-8"></script>
<script>
$('.date input').datepicker({
    format: "dd/mm/yyyy",
    todayBtn: "linked",
    language: "pt-BR",
    autoclose: true,
    todayHighlight: true
});
</script>
{% endblock %}
